<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ktds.crmai.service.impl.BoardMapper">

	<select id="selectAllBoardList" resultType="board">
		SELECT 
			CODE AS "code", 
			TITLE AS "title",
			CONTENTS AS "contents",
			WRITER AS "writer",
			REG_DATETIME AS "reg_datetime"
		FROM  
			AI_BOARD
	</select>
	
	<select id="selectBoardList" resultType="board">
		SELECT
		    CODE AS "code",
			TITLE AS "title",
			CONTENTS AS "contents",
			WRITER AS "writer",
			REG_DATETIME AS "reg_datetime"
		from 
		    AI_BOARD
		<where>
			<if test="title != null and title != '' ">
				title like '%' || #{title} || '%'
			</if>
			
			<if test="writer != null and writer != '' ">
				AND type writer '%' || #{writer} || '%'
			</if>
			
			<if test="reg_datetime != null and reg_datetime != '' ">
				AND reg_datetime like '%' || #{reg_datetime} || '%'
			</if>
		</where>
    </select>
    
    <insert id="insertBoard">
    	INSERT INTO AI_BOARD (CODE, TITLE, CONTENTS, WRITER, REG_DATETIME)
      	VALUES (#{code}, #{title}, #{contents}, #{writer}, sysdate)
    </insert>
	
</mapper>	